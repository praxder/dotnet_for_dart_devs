---
import ProgressBar from '../progress/ProgressBar';

interface Props {
  currentDay?: number;
}
const { currentDay } = Astro.props;
---

<header class="sticky top-0 z-50 border-b border-slate-800 bg-slate-950/95 backdrop-blur-sm">
  <div class="flex items-center h-14 px-4 gap-4 max-w-screen-2xl mx-auto">
    <!-- Logo -->
    <a href={import.meta.env.BASE_URL} class="flex items-center gap-2 font-bold text-white shrink-0">
      <div class="w-7 h-7 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-sm font-black">
        C#
      </div>
      <span class="hidden sm:inline text-sm">C# for Flutter Devs</span>
    </a>

    <!-- Center: compact progress bar -->
    <div class="flex-1 max-w-xs hidden md:block">
      <ProgressBar compact={true} client:load />
    </div>

    <!-- Right: nav links -->
    <nav class="flex items-center gap-1 ml-auto text-sm">
      <a href={import.meta.env.BASE_URL} class="px-3 py-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors">
        Dashboard
      </a>
      <a href={`${import.meta.env.BASE_URL}modules`} class="px-3 py-1.5 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors">
        Modules
      </a>
      {currentDay && (
        <span class="px-3 py-1.5 rounded-lg bg-indigo-900/50 text-indigo-300 text-xs font-medium">
          Day {currentDay}
        </span>
      )}
    </nav>
  </div>
</header>
